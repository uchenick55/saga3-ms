"use strict";(self.webpackChunksaga3_ms=self.webpackChunksaga3_ms||[]).push([[829],{829:function(e,t,n){n.d(t,{Z:function(){return O}});var a=n(2791),i=n(9434),s=n(2518),r=n(7874),o=(n(7632),n(1413)),l=n(5987),c=n(1694),d=n.n(c),u=n(162),m=n(1691),v=n(184),f=["active","disabled","className","style","activeLabel","children"],P=["children"],g=a.forwardRef((function(e,t){var n=e.active,a=void 0!==n&&n,i=e.disabled,s=void 0!==i&&i,r=e.className,c=e.style,u=e.activeLabel,P=void 0===u?"(current)":u,g=e.children,h=(0,l.Z)(e,f),x=a||s?"span":m.Z;return(0,v.jsx)("li",{ref:t,style:c,className:d()(r,"page-item",{active:a,disabled:s}),children:(0,v.jsxs)(x,(0,o.Z)((0,o.Z)({className:"page-link"},h),{},{children:[g,a&&P&&(0,v.jsx)("span",{className:"visually-hidden",children:P})]}))})}));g.displayName="PageItem";var h=g;function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=a.forwardRef((function(e,a){var i=e.children,s=(0,l.Z)(e,P);return(0,v.jsxs)(g,(0,o.Z)((0,o.Z)({},s),{},{ref:a,children:[(0,v.jsx)("span",{"aria-hidden":"true",children:i||t}),(0,v.jsx)("span",{className:"visually-hidden",children:n})]}))}));return i.displayName=e,i}var j=x("First","\xab"),C=x("Prev","\u2039","Previous"),b=x("Ellipsis","\u2026","More"),p=x("Next","\u203a"),N=x("Last","\xbb"),y=["bsPrefix","className","size"],L=a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,i=e.size,s=(0,l.Z)(e,y),r=(0,u.vE)(n,"pagination");return(0,v.jsx)("ul",(0,o.Z)((0,o.Z)({ref:t},s),{},{className:d()(a,r,i&&"".concat(r,"-").concat(i))}))}));L.displayName="Pagination";var Z=Object.assign(L,{First:j,Prev:C,Ellipsis:b,Item:h,Next:p,Last:N}),S="Pagination_pagination__JB8vP",w=(0,a.memo)((function(e){var t=e.TotalPostsCount,n=e.PageSize,i=e.CurrentPage,s=e.CurrentRangeLocal,r=e.PortionSize,o=e.setPaginationData;console.log("PaginationBS");for(var l=Math.ceil(t/n),c=[],d=1;d<=l;d++)c.push(d);var u=1+r*(s-1),m=r*s,f=c.filter((function(e){return e>=u&&e<=m})),P=function(e){"prevPortion"===e&&s>1&&o({PageSize:n,CurrentPage:i,PortionSize:r,CurrentRangeLocal:s-1}),"nextPortion"===e&&o({PageSize:n,CurrentPage:i,PortionSize:r,CurrentRangeLocal:s+1})},g=(0,a.memo)(Z.Item),h=f.map((function(e){return(0,v.jsxs)(g,{active:e===i,onClick:function(){e!==i&&o({PageSize:n,CurrentPage:e,PortionSize:r,CurrentRangeLocal:s})},children:[e," "]},e)}));return(0,v.jsx)("div",{className:S,children:(0,v.jsxs)(Z,{className:"pagination align-items-center justify-content-center",children:[" ",(0,v.jsx)(Z.Prev,{disabled:1===s,onClick:function(){P("prevPortion")}})," ",h," ",(0,v.jsx)(Z.Next,{disabled:Math.ceil(t/(n*r))<=s,onClick:function(){P("nextPortion")}})," "]})})})),z=function(e,t){return void 0!==t&&e.sort((function(e,n){var a=e.title.toLowerCase(),i=n.title.toLowerCase();return t?a>i?1:-1:a<i?1:-1})),e},R=n(2592),k=n(1087),I=(0,a.memo)((function(e){var t=e.email,n=(e.name,e.body);return console.log("\u043c\u0430\u043f\u0438\u043d\u0433 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),(0,v.jsx)("div",{className:"d-flex justify-content-end",children:(0,v.jsxs)("div",{className:"card p-3 m-2",style:{width:"90%"},children:[(0,v.jsx)("b",{children:t}),(0,v.jsx)("div",{className:"d-flex justify-content-end",children:(0,v.jsx)("div",{style:{width:"90%"},children:n})})]})})})),A=n(9439),D=n(5341),_=["as","bsPrefix","variant","size","active","disabled","className"],B=a.forwardRef((function(e,t){var n=e.as,a=e.bsPrefix,i=e.variant,s=void 0===i?"primary":i,r=e.size,c=e.active,m=void 0!==c&&c,f=e.disabled,P=void 0!==f&&f,g=e.className,h=(0,l.Z)(e,_),x=(0,u.vE)(a,"btn"),j=(0,D.FT)((0,o.Z)({tagName:n,disabled:P},h)),C=(0,A.Z)(j,2),b=C[0],p=C[1].tagName;return(0,v.jsx)(p,(0,o.Z)((0,o.Z)((0,o.Z)({},b),h),{},{ref:t,disabled:P,className:d()(g,x,m&&"active",s&&"".concat(x,"-").concat(s),r&&"".concat(x,"-").concat(r),h.href&&P&&"disabled")}))}));B.displayName="Button";var E=B,F=(0,a.memo)((function(e){var t=e.body,n=e.title,a=e.userId,s=e.Avatar,r=e.id,o=e.getComments;console.log("PostItem");var l=(0,i.v9)((function(e){return e.allPosts.AllComments})),c=(0,i.v9)((function(e){return e.allPosts.ShowComments})),d=l.filter((function(e){return e.postId===r}));return(0,v.jsxs)("div",{className:"my-4",children:[(0,v.jsx)(k.OL,{to:"/user-posts/"+a,children:(0,v.jsx)(R.Z,{fluid:!0,src:s,className:"float-start my-2 mx-4 shadow",style:{width:"5rem"},alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",title:"\u0412\u0441\u0435 \u043f\u043e\u0441\u0442\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ".concat(a)})}),(0,v.jsx)("h5",{children:(0,v.jsx)("b",{children:n})}),(0,v.jsx)("div",{className:"flex-grow-1 ms-3",children:(0,v.jsxs)("div",{children:[" ",t," "]})}),(0,v.jsx)("div",{className:"d-flex justify-content-end my-2",children:(0,v.jsx)(E,{className:"btn-sm btn-secondary",onClick:function(){o(r)},children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"})}),c.includes(r)&&d.map((function(e){var t=e.id,n=e.name,a=e.email,i=e.body;return(0,v.jsx)(I,{name:n,body:i,email:a},t)}))]})}));var K=n.p+"static/media/avatar-default.5dea226660157472ae3b2ae95d31764d.svg",M=function(e){var t=e.PostsList,n=e.getComments;return console.log("RenderPosts"),(0,v.jsx)("div",{children:t.map((function(e,t){var a=e.body,i=e.id,s=e.title,r=e.userId;return(0,v.jsx)(F,{body:a,title:s,userId:r,Avatar:K,id:i,getComments:n},t)}))})},T=function(e,t,n){return e.filter((function(e,a){return a>=t*(n-1)&&a<t*n}))},H=function(e,t){return e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}))},O=function(e){var t=e.PostsList;console.log("PostsListRender");var n=(0,i.I0)(),o=(0,i.v9)((function(e){return e.allPosts.PaginationData})),l=o.PageSize,c=o.CurrentPage,d=o.CurrentRangeLocal,u=o.PortionSize,m=(0,a.useCallback)((function(e){n(P(e))}),[]),f=s.uK.getCommentsByPostIdAC,P=s.uK.setPaginationDataAC,g=(s.uK.setSearchPostQueryAC,s.uK.setSortHeaderDirectionAC,(0,a.useCallback)((function(e){n(f(e))}),[])),h=structuredClone(t),x=(0,i.v9)((function(e){return e.app.isFetching})),j=(0,i.v9)((function(e){return e.allPosts.SearchPostQuery})),C=(0,i.v9)((function(e){return e.allPosts.SortHeaderDirection})),b=H(h,j),p=z(b,C),N=T(p,l,c),y=(0,v.jsx)(w,{TotalPostsCount:b.length,PageSize:l,CurrentPage:c,CurrentRangeLocal:d,PortionSize:u,setPaginationData:m}),L=(0,v.jsx)(M,{PostsList:N,getComments:g});return(0,v.jsxs)("div",{children:[x&&(0,v.jsx)(r.Z,{})," ",N.length>0?L:(0,v.jsx)("div",{children:"\u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),y," "]})}}}]);
//# sourceMappingURL=829.0afb0b7f.chunk.js.map