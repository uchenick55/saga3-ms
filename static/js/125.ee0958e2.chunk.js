"use strict";(self.webpackChunksaga3_ms=self.webpackChunksaga3_ms||[]).push([[125],{7125:function(e,n,t){t.r(n);var i=t(7853),r=(t(2791),t(9434)),a=t(184);n.default=function(){console.log("AllPostsList");var e=(0,r.v9)((function(e){return e.allPosts.AllPosts}));return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0441\u0442\u043e\u0432"}),(0,a.jsx)(i.Z,{PostsList:e})]})}},7853:function(e,n,t){t.d(n,{Z:function(){return K}});var i=t(2791),r=t(9434),a=t(2518),s=t(7874),o=(t(7632),t(1413)),l=t(5987),c=t(1694),u=t.n(c),d=t(162),v=t(1691),f=t(184),m=["active","disabled","className","style","activeLabel","children"],P=["children"],g=i.forwardRef((function(e,n){var t=e.active,i=void 0!==t&&t,r=e.disabled,a=void 0!==r&&r,s=e.className,c=e.style,d=e.activeLabel,P=void 0===d?"(current)":d,g=e.children,h=(0,l.Z)(e,m),x=i||a?"span":v.Z;return(0,f.jsx)("li",{ref:n,style:c,className:u()(s,"page-item",{active:i,disabled:a}),children:(0,f.jsxs)(x,(0,o.Z)((0,o.Z)({className:"page-link"},h),{},{children:[g,i&&P&&(0,f.jsx)("span",{className:"visually-hidden",children:P})]}))})}));g.displayName="PageItem";var h=g;function x(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=i.forwardRef((function(e,i){var r=e.children,a=(0,l.Z)(e,P);return(0,f.jsxs)(g,(0,o.Z)((0,o.Z)({},a),{},{ref:i,children:[(0,f.jsx)("span",{"aria-hidden":"true",children:r||n}),(0,f.jsx)("span",{className:"visually-hidden",children:t})]}))}));return r.displayName=e,r}var C=x("First","\xab"),j=x("Prev","\u2039","Previous"),p=x("Ellipsis","\u2026","More"),b=x("Next","\u203a"),L=x("Last","\xbb"),N=["bsPrefix","className","size"],y=i.forwardRef((function(e,n){var t=e.bsPrefix,i=e.className,r=e.size,a=(0,l.Z)(e,N),s=(0,d.vE)(t,"pagination");return(0,f.jsx)("ul",(0,o.Z)((0,o.Z)({ref:n},a),{},{className:u()(i,s,r&&"".concat(s,"-").concat(r))}))}));y.displayName="Pagination";var S=Object.assign(y,{First:C,Prev:j,Ellipsis:p,Item:h,Next:b,Last:L}),Z="Pagination_pagination__JB8vP",z=(0,i.memo)((function(e){var n=e.TotalPostsCount,t=e.PageSize,r=e.CurrentPage,a=e.CurrentRangeLocal,s=e.PortionSize,o=e.setPaginationData;console.log("PaginationBS");for(var l=Math.ceil(n/t),c=[],u=1;u<=l;u++)c.push(u);var d=1+s*(a-1),v=s*a,m=c.filter((function(e){return e>=d&&e<=v})),P=function(e){"prevPortion"===e&&a>1&&o({PageSize:t,CurrentPage:r,PortionSize:s,CurrentRangeLocal:a-1}),"nextPortion"===e&&o({PageSize:t,CurrentPage:r,PortionSize:s,CurrentRangeLocal:a+1})},g=(0,i.memo)(S.Item),h=m.map((function(e){return(0,f.jsxs)(g,{active:e===r,onClick:function(){e!==r&&o({PageSize:t,CurrentPage:e,PortionSize:s,CurrentRangeLocal:a})},children:[e," "]},e)}));return(0,f.jsx)("div",{className:Z,children:(0,f.jsxs)(S,{className:"pagination align-items-center justify-content-center",children:[" ",(0,f.jsx)(S.Prev,{disabled:1===a,onClick:function(){P("prevPortion")}})," ",h," ",(0,f.jsx)(S.Next,{disabled:Math.ceil(n/(t*s))<=a,onClick:function(){P("nextPortion")}})," "]})})})),I=function(e,n){return void 0!==n&&e.sort((function(e,t){var i=e.title.toLowerCase(),r=t.title.toLowerCase();return n?i>r?1:-1:i<r?1:-1})),e},k=t(2592),R=t(1087),w=(0,i.memo)((function(e){var n=e.email,t=(e.name,e.body);return console.log("\u043c\u0430\u043f\u0438\u043d\u0433 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:n}),(0,f.jsx)("div",{children:t})]})})),A=t(5507),D=(0,i.memo)((function(e){var n=e.body,t=e.title,i=e.userId,a=e.Avatar,s=e.id,o=e.getComments;console.log("PostItem");var l=(0,r.v9)((function(e){return e.allPosts.AllComments})),c=(0,r.v9)((function(e){return e.allPosts.ShowComments})),u=l.filter((function(e){return e.postId===s}));return(0,f.jsxs)("div",{children:[(0,f.jsx)(R.OL,{to:"/user-posts/"+i,children:(0,f.jsx)(k.Z,{fluid:!0,src:a,className:A.Z.PostItemImage,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",title:"\u0412\u0441\u0435 \u043f\u043e\u0441\u0442\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ".concat(i)})}),(0,f.jsxs)("h3",{children:[" ",t," "]}),(0,f.jsxs)("div",{children:[" ",n," "]}),(0,f.jsx)("button",{onClick:function(){o(s)},children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),c.includes(s)&&u.map((function(e){var n=e.id,t=e.name,i=e.email,r=e.body;return(0,f.jsx)(w,{name:t,body:r,email:i},n)}))]})}));var _=t.p+"static/media/avatar-default.5dea226660157472ae3b2ae95d31764d.svg",B=function(e){var n=e.PostsList,t=e.getComments;return console.log("RenderPosts"),(0,f.jsx)("div",{children:n.map((function(e,n){var i=e.body,r=e.id,a=e.title,s=e.userId;return(0,f.jsx)(D,{body:i,title:a,userId:s,Avatar:_,id:r,getComments:t},n)}))})},E=function(e,n,t){return e.filter((function(e,i){return i>=n*(t-1)&&i<n*t}))},F=function(e,n){return e.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}))},K=function(e){var n=e.PostsList;console.log("PostsListRender");var t=(0,r.I0)(),o=(0,r.v9)((function(e){return e.allPosts.PaginationData})),l=o.PageSize,c=o.CurrentPage,u=o.CurrentRangeLocal,d=o.PortionSize,v=(0,i.useCallback)((function(e){t(P(e))}),[]),m=a.uK.getCommentsByPostIdAC,P=a.uK.setPaginationDataAC,g=(a.uK.setSortHeaderDirectionAC,(0,i.useCallback)((function(e){t(m(e))}),[])),h=(0,r.v9)((function(e){return e.app.isFetching})),x=structuredClone(n),C=(0,r.v9)((function(e){return e.allPosts.SearchPostQuery})),j=(0,r.v9)((function(e){return e.allPosts.SortHeaderDirection})),p=F(x,C),b=I(p,j),L=E(b,l,c),N=(0,f.jsx)(z,{TotalPostsCount:p.length,PageSize:l,CurrentPage:c,CurrentRangeLocal:u,PortionSize:d,setPaginationData:v}),y=(0,f.jsx)(B,{PostsList:L,getComments:g});return(0,f.jsxs)("div",{children:[h&&(0,f.jsx)(s.Z,{})," ",N," ",L.length>0?y:(0,f.jsx)("div",{children:"\u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})}}}]);
//# sourceMappingURL=125.ee0958e2.chunk.js.map