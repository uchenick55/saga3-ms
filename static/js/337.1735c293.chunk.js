"use strict";(self.webpackChunksaga3_ms=self.webpackChunksaga3_ms||[]).push([[337],{1337:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(9439),a=n(2791),r=n(9434),s=n(2518),o=n(7874),c=(n(7632),n(1413)),l=n(5987),u=n(1694),d=n.n(u),v=n(162),f=n(1691),P=n(184),g=["active","disabled","className","style","activeLabel","children"],m=["children"],h=a.forwardRef((function(e,t){var n=e.active,i=void 0!==n&&n,a=e.disabled,r=void 0!==a&&a,s=e.className,o=e.style,u=e.activeLabel,v=void 0===u?"(current)":u,m=e.children,h=(0,l.Z)(e,g),x=i||r?"span":f.Z;return(0,P.jsx)("li",{ref:t,style:o,className:d()(s,"page-item",{active:i,disabled:r}),children:(0,P.jsxs)(x,(0,c.Z)((0,c.Z)({className:"page-link"},h),{},{children:[m,i&&v&&(0,P.jsx)("span",{className:"visually-hidden",children:v})]}))})}));h.displayName="PageItem";var x=h;function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=a.forwardRef((function(e,i){var a=e.children,r=(0,l.Z)(e,m);return(0,P.jsxs)(h,(0,c.Z)((0,c.Z)({},r),{},{ref:i,children:[(0,P.jsx)("span",{"aria-hidden":"true",children:a||t}),(0,P.jsx)("span",{className:"visually-hidden",children:n})]}))}));return i.displayName=e,i}var j=C("First","\xab"),p=C("Prev","\u2039","Previous"),S=C("Ellipsis","\u2026","More"),b=C("Next","\u203a"),y=C("Last","\xbb"),L=["bsPrefix","className","size"],N=a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.size,r=(0,l.Z)(e,L),s=(0,v.vE)(n,"pagination");return(0,P.jsx)("ul",(0,c.Z)((0,c.Z)({ref:t},r),{},{className:d()(i,s,a&&"".concat(s,"-").concat(a))}))}));N.displayName="Pagination";var Z=Object.assign(N,{First:j,Prev:p,Ellipsis:S,Item:x,Next:b,Last:y}),I="Pagination_pagination__JB8vP",z=(0,a.memo)((function(e){var t=e.TotalPostsCount,n=e.PageSize,i=e.CurrentPage,r=e.CurrentRangeLocal,s=e.PortionSize,o=e.setPaginationData;console.log("PaginationBS");for(var c=Math.ceil(t/n),l=[],u=1;u<=c;u++)l.push(u);var d=1+s*(r-1),v=s*r,f=l.filter((function(e){return e>=d&&e<=v})),g=function(e){"prevPortion"===e&&r>1&&o({PageSize:n,CurrentPage:i,PortionSize:s,CurrentRangeLocal:r-1}),"nextPortion"===e&&o({PageSize:n,CurrentPage:i,PortionSize:s,CurrentRangeLocal:r+1})},m=(0,a.memo)(Z.Item),h=f.map((function(e){return(0,P.jsxs)(m,{active:e===i,onClick:function(){e!==i&&o({PageSize:n,CurrentPage:e,PortionSize:s,CurrentRangeLocal:r})},children:[e," "]},e)}));return(0,P.jsx)("div",{className:I,children:(0,P.jsxs)(Z,{className:"pagination align-items-center justify-content-center",children:[" ",(0,P.jsx)(Z.Prev,{disabled:1===r,onClick:function(){g("prevPortion")}})," ",h," ",(0,P.jsx)(Z.Next,{disabled:Math.ceil(t/(n*s))<=r,onClick:function(){g("nextPortion")}})," "]})})})),k=function(e,t){return void 0!==t&&e.sort((function(e,n){var i=e.title.toLowerCase(),a=n.title.toLowerCase();return t?i>a?1:-1:i<a?1:-1})),e},D=function(e){var t=e.SearchPostQuery,n=e.setSearchPostQuery,r=e.setPaginationData,s=e.PostsInitialState,o=e.PaginationData;console.log("PostsInputRender");var c=(0,a.useState)(t),l=(0,i.Z)(c,2),u=l[0],d=l[1];return(0,a.useEffect)((function(){var e=u,t=setTimeout((function(){e===u&&function(e){n(e),1!==o.CurrentPage&&(console.log("\u0441\u043c\u0435\u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0438 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0438 \u043d\u0430 1 \u043f\u0440\u0438 \u043f\u043e\u0438\u0441\u043a\u0435"),r(s.PaginationData))}(u)}),500);return function(){clearTimeout(t)}}),[u]),(0,P.jsxs)("div",{children:[(0,P.jsx)("input",{autoFocus:!0,type:"text",value:u,onChange:function(e){d(e.target.value)}}),(0,P.jsx)("div",{onClick:function(){return n(""),void d("")},children:"x"})]})},R=function(e){var t=e.sortHeaderDirection,n=e.setSortHeaderDirection;return console.log("RenderSortButton"),(0,P.jsx)("button",{onClick:function(){n(void 0===t||!t)},children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e\u0441\u0442\u043e\u0432 \u043f\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u043c"})},w=n(2592),_="Posts_PostItemImage__ME8pE",E=n(1087),A=(0,a.memo)((function(e){var t=e.email,n=(e.name,e.body);return console.log("\u043c\u0430\u043f\u0438\u043d\u0433 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:t}),(0,P.jsx)("div",{children:n})]})})),B=(0,a.memo)((function(e){var t=e.body,n=e.title,i=e.userId,a=e.Avatar,s=e.id,o=e.getComments;console.log("PostItem");var c=(0,r.v9)((function(e){return e.allPosts.AllComments})),l=(0,r.v9)((function(e){return e.allPosts.ShowComments})),u=c.filter((function(e){return e.postId===s}));return(0,P.jsxs)("div",{children:[(0,P.jsx)(E.OL,{to:"/user-posts/"+i,children:(0,P.jsx)(w.Z,{fluid:!0,src:a,className:_,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",title:"\u0412\u0441\u0435 \u043f\u043e\u0441\u0442\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ".concat(i)})}),(0,P.jsxs)("h3",{children:[" ",n," "]}),(0,P.jsxs)("div",{children:[" ",t," "]}),(0,P.jsx)("button",{onClick:function(){o(s)},children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),l.includes(s)&&u.map((function(e){var t=e.id,n=e.name,i=e.email,a=e.body;return(0,P.jsx)(A,{name:n,body:a,email:i},t)}))]})}));var F=n.p+"static/media/avatar-default.5dea226660157472ae3b2ae95d31764d.svg",H=function(e){var t=e.PostsList,n=e.getComments;return console.log("RenderPosts"),(0,P.jsx)("div",{children:t.map((function(e,t){var i=e.body,a=e.id,r=e.title,s=e.userId;return(0,P.jsx)(B,{body:i,title:r,userId:s,Avatar:F,id:a,getComments:n},t)}))})},M=function(e,t,n){return e.filter((function(e,i){return i>=t*(n-1)&&i<t*n}))},Q=function(e,t){return e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}))},T=function(e){var t=e.PostsList;console.log("PostsListRender");var n=(0,r.I0)(),c=(0,r.v9)((function(e){return e.allPosts.PaginationData})),l=c.PageSize,u=c.CurrentPage,d=c.CurrentRangeLocal,v=c.PortionSize,f=(0,a.useCallback)((function(e){n(m(e))}),[]),g=s.uK.getCommentsByPostIdAC,m=s.uK.setPaginationDataAC,h=(0,a.useCallback)((function(e){n(g(e))}),[]),x=(0,r.v9)((function(e){return e.app.isFetching})),C=structuredClone(t),j=(0,a.useState)(""),p=(0,i.Z)(j,2),S=p[0],b=p[1],y=(0,a.useState)(void 0),L=(0,i.Z)(y,2),N=L[0],Z=L[1],I=Q(C,S),w=k(I,N),_=M(w,l,u),E=(0,P.jsx)(D,{SearchPostQuery:S,setSearchPostQuery:b,setPaginationData:f,PostsInitialState:s.wZ,PaginationData:c}),A=(0,P.jsx)(R,{sortHeaderDirection:N,setSortHeaderDirection:Z}),B=(0,P.jsx)(z,{TotalPostsCount:I.length,PageSize:l,CurrentPage:u,CurrentRangeLocal:d,PortionSize:v,setPaginationData:f}),F=(0,P.jsx)(H,{PostsList:_,getComments:h});return(0,P.jsxs)("div",{children:[x&&(0,P.jsx)(o.Z,{})," ",E," ",A," ",B," ",_.length>0?F:(0,P.jsx)("div",{children:"\u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})}}}]);
//# sourceMappingURL=337.1735c293.chunk.js.map